<style>
:root {
    --court-bg: #C1E1C1;
    --court-line: #ffffff;
    --primary: #2c3e50;
    --btn-bg: #3498db;
    --bg-body: #f0f4f8;
}
body {
    font-family: 'Sarabun', sans-serif;
    background-color: var(--bg-body);
    margin: 0;
    padding: 15px;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    gap: 15px;
}
h1, h2, h3, h4 { margin: 0 0 10px 0; color: var(--primary); }

/* --- LAYOUTS --- */
#main-view, #overview-view { display: flex; flex-direction: column; gap: 15px; height: 100%;}
.hidden { display: none !important; }

/* Grid Layout */
.courts-area-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr); 
    gap: 10px;
    width: 100%;
}

.bottom-data-section {
    display: flex;
    gap: 15px;
    align-items: flex-start;
}

.bottom-history-section {
    width: 100%;
    margin-top: 5px;
}

/* Panels */
.pastel-panel {
    padding: 20px;
    border-radius: 16px;
    box-shadow: 0 4px 20px rgba(0,0,0,0.06);
    border: 1px solid rgba(255,255,255,0.8);
    backdrop-filter: blur(10px);
    background: rgba(255,255,255,0.9);
    display: flex;
    flex-direction: column;
}
.panel-blue { background-color: #e3f2fd; color: #1565c0; }
.panel-green { background-color: #e8f5e9; color: #2e7d32; }
.panel-purple { background-color: #f3e5f5; color: #6a1b9a; }
.panel-yellow { background-color: #fffde7; color: #f9a825; }
.panel-white { background-color: #ffffff; color: #333; }

.control-sidebar-container { flex: 0 0 320px; } 
.stats-column { flex: 1; min-width: 0; }

/* Components */
.control-panel { border-bottom: 1px solid rgba(0,0,0,0.1); padding-bottom: 15px; margin-bottom: 15px; }
.input-group { margin-bottom: 10px; display: flex; align-items: center; gap: 8px; font-size: 0.95em; }
textarea { width: 100%; height: 70px; resize: none; border: 1px solid #ccc; border-radius: 8px; padding: 8px; font-family: inherit;}

button {
    cursor: pointer; padding: 8px 14px; border: none; border-radius: 8px;
    background: var(--btn-bg); color: white; font-weight: bold; font-size: 0.9em;
    transition: all 0.2s; box-shadow: 0 2px 5px rgba(0,0,0,0.1);
}
button:hover { opacity: 0.9; transform: translateY(-1px); }
button.danger { background: #e74c3c; }
button.warning { background: #f39c12; }
button.success { background: #27ae60; }
button.secondary { background: #95a5a6; }
button.dark { background: #34495e; }
button.mini-btn { padding: 2px 6px; font-size: 0.75em; margin-left: auto; }

.player-list { list-style: none; padding: 0; margin: 0; }
.player-item {
    background: rgba(255,255,255,0.8); border: 1px solid rgba(0,0,0,0.05); padding: 8px 12px;
    margin-bottom: 6px; border-radius: 8px; display: flex; align-items: center; font-size: 0.95em;
    transition: all 0.3s;
}
.player-item.fastpass { border-left: 5px solid #2ecc71; background: #eafaf1; } 
.player-item.booked { border-left: 5px solid #f1c40f; }

.player-info { display: flex; align-items: center; gap: 8px; flex: 1; min-width: 0; }
.wait-badge { font-size: 0.75em; font-weight: bold; padding: 3px 6px; border-radius: 4px; color: white; margin-left: 5px; flex-shrink: 0;}
.wait-green { background-color: #27ae60; } 
.wait-orange { background-color: #e67e22; } 
.wait-red { background-color: #c0392b; animation: flash 2s infinite; }
@keyframes flash { 0% { opacity: 1; } 50% { opacity: 0.7; } 100% { opacity: 1; } }

/* Tables */
.stats-table { width: 100%; border-collapse: separate; border-spacing: 0; font-size: 0.9em; }
.stats-table th { background: rgba(0,0,0,0.05); padding: 10px; position: sticky; top: 0; font-weight: bold; z-index: 1;}
.stats-table td { border-bottom: 1px solid rgba(0,0,0,0.05); padding: 8px; text-align: center; background: rgba(255,255,255,0.6); }
.stats-table td:nth-child(2) { text-align: left; font-weight: bold; }
.log-winner { color: #27ae60; font-weight:bold;}
.log-loser { color: #e74c3c; }

/* Court Card */
.court {
    height: 380px; 
    background-color: var(--court-bg);
    border: 3px solid #27ae60; position: relative; border-radius: 12px;
    display: flex; flex-direction: column; box-shadow: 0 8px 20px rgba(0,0,0,0.1);
    overflow: hidden; font-size: 0.85em; 
}
.court-header {
    background: rgba(255,255,255,0.95); padding: 8px 10px; text-align: center;
    font-weight: bold; color: #2c3e50; display: flex; justify-content: space-between;
    border-bottom: 2px solid #27ae60; font-size: 1.1em; white-space: nowrap;
}
.court-lines {
    position: absolute; top: 35px; bottom: 35px; left: 10px; right: 10px;
    border: 2px solid var(--court-line); pointer-events: none;
}
.court-lines::before { content: ''; position: absolute; top: 50%; left: -10px; right: -10px; border-top: 2px dashed rgba(255,255,255,0.8); }
.court-lines::after { content: ''; position: absolute; top: 0; bottom: 0; left: 50%; border-left: 2px solid var(--court-line); }
.service-line-top { position: absolute; top: 35px; left: 10px; right: 10px; height: 15%; border-bottom: 2px solid var(--court-line); }
.service-line-bottom { position: absolute; bottom: 35px; left: 10px; right: 10px; height: 15%; border-top: 2px solid var(--court-line); }

.court-players { flex: 1; display: flex; flex-direction: column; justify-content: space-between; padding: 35px 4px; z-index: 1; }

.court-overlay {
    position: absolute; top: 0; left: 0; width: 100%; height: 100%;
    display: flex; flex-direction: column;
    justify-content: center; align-items: center;
    background: rgba(255,255,255,0.85); z-index: 10; backdrop-filter: blur(3px);
    gap: 10px;
}
.btn-overlay {
    padding: 10px 20px; font-size: 1em; border-radius: 25px;
    color: white; border: 2px solid white;
    box-shadow: 0 4px 10px rgba(0,0,0,0.2); cursor: pointer; transition: all 0.2s;
    white-space: nowrap; width: 80%;
}
.btn-overlay:hover { transform: scale(1.05); }
.btn-call { background: #27ae60; }
.btn-rest { background: #e74c3c; }
.btn-open { background: #2c3e50; }

.team { display: flex; justify-content: space-around; padding: 5px; border-radius: 8px; background: rgba(255,255,255,0.5); }
.team-pink .player-on-court { background: #ffcdd2; border-color: #ef5350; color: #b71c1c; }
.team-blue .player-on-court { background: #bbdefb; border-color: #42a5f5; color: #0d47a1; }

.player-on-court {
    background: white; padding: 4px; border-radius: 8px;
    font-size: 0.9em; line-height: 1.1; text-align: center; 
    width: 48%; min-width: 0;
    cursor: pointer; border: 1px solid #ccc; box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    transition: transform 0.1s;
    white-space: normal; word-wrap: break-word; overflow-wrap: break-word;
    display: flex; flex-direction: column; justify-content: center; align-items: center;
    min-height: 50px;
}
.player-on-court:hover { transform: translateY(-2px); }
.quota-badge { display: block; font-size: 0.7em; background: #333; color: white; border-radius: 4px; margin-top: 2px; padding: 1px 2px; width: 100%; text-overflow: ellipsis; overflow: hidden;}

.court-controls { padding: 8px; background: rgba(255,255,255,0.95); text-align: center; z-index: 2; border-top: 1px solid #eee;}
.timer { font-size: 1.2em; font-weight: 800; margin: 2px 0; color: #333; font-family: monospace;}

/* Modal */
.modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.6); justify-content: center; align-items: center; z-index: 1000; backdrop-filter: blur(5px);}
.modal-content { background: white; padding: 25px; border-radius: 16px; width: 320px; box-shadow: 0 10px 40px rgba(0,0,0,0.3); }
.modal-actions { margin-top: 20px; display: flex; justify-content: flex-end; gap: 8px; }
.reset-section { display: flex; gap: 8px; margin-top: 5px; }
.btn-auto-start { background: linear-gradient(90deg, #27ae60 0%, #2ecc71 100%); animation: pulse 1s infinite; }
@keyframes pulse { 0% { opacity: 1; } 50% { opacity: 0.8; } 100% { opacity: 1; } }

/* Overview Specifics */
.cost-row { display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #eee; }
.cost-total { font-size: 1.2em; font-weight: bold; color: #2c3e50; border-top: 2px solid #ccc; margin-top: 10px; padding-top: 10px;}
.nav-bar { display:flex; justify-content: center; margin-top: auto; padding: 10px;}

/* Media Queries */
@media (max-width: 1024px) { .courts-area-grid { grid-template-columns: repeat(4, 1fr); } }
@media (max-width: 820px) {
    .bottom-data-section { flex-direction: column; }
    .control-sidebar-container { width: 100%; flex: auto; }
    .courts-area-grid { grid-template-columns: repeat(2, 1fr); }
}
@media (max-width: 500px) { .courts-area-grid { grid-template-columns: 1fr; } }
/* Animation ‡∏õ‡∏∏‡πà‡∏° Live */
.pulse {
    background-color: #e74c3c !important;
    color: white !important;
    animation: pulse-animation 2s infinite;
}
@keyframes pulse-animation {
    0% { box-shadow: 0 0 0 0 rgba(231, 76, 60, 0.7); }
    70% { box-shadow: 0 0 0 10px rgba(231, 76, 60, 0); }
    100% { box-shadow: 0 0 0 0 rgba(231, 76, 60, 0); }
}

/* ‡πÇ‡∏´‡∏°‡∏î‡∏Ñ‡∏ô‡∏î‡∏π (Viewer Mode): ‡∏ã‡πà‡∏≠‡∏ô‡∏õ‡∏∏‡πà‡∏°‡∏Å‡∏î‡∏ó‡∏∏‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á */
body.view-mode button:not(.btn-overlay), /* ‡πÄ‡∏Å‡πá‡∏ö‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏õ‡∏¥‡∏î‡∏™‡∏ô‡∏≤‡∏°‡πÑ‡∏ß‡πâ‡∏î‡∏π‡πÄ‡∏•‡πà‡∏ô‡πÜ ‡πÑ‡∏î‡πâ ‡πÅ‡∏ï‡πà‡∏Å‡∏î‡πÑ‡∏õ‡∏Å‡πá‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ú‡∏• */
body.view-mode .mini-btn,
body.view-mode input,
body.view-mode select,
body.view-mode #btn-broadcast,
body.view-mode .modal {
    display: none !important;
}

/* ‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡πÉ‡∏´‡πâ‡∏Ñ‡∏ô‡∏î‡∏π‡πÄ‡∏´‡πá‡∏ô */
body.view-mode #player-queue,
body.view-mode #courts-container,
body.view-mode #next-match-panel {
    pointer-events: none; /* ‡∏´‡πâ‡∏≤‡∏°‡∏à‡∏¥‡πâ‡∏° */
}
/* =========================================
   üì∫ CLEAN VIEWER MODE (‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏Ñ‡∏ô‡∏î‡∏π)
   ========================================= */
body.view-mode {
    background-color: #f4f6f9;
    padding: 10px;
}

/* 1. ‡∏ã‡πà‡∏≠‡∏ô‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô (Dashboard, History, Controls) */
body.view-mode .stats-column,             /* ‚ùå ‡∏ã‡πà‡∏≠‡∏ô‡πÅ‡∏î‡∏ä‡∏ö‡∏≠‡∏£‡πå‡∏î (‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥) */
body.view-mode .bottom-history-section,   /* ‚ùå ‡∏ã‡πà‡∏≠‡∏ô‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡πÅ‡∏°‡∏ï‡∏ä‡πå */
body.view-mode .nav-bar,                  /* ‚ùå ‡∏ã‡πà‡∏≠‡∏ô‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏´‡∏ô‡πâ‡∏≤ */
body.view-mode #btn-broadcast,            /* ‚ùå ‡∏ã‡πà‡∏≠‡∏ô‡∏õ‡∏∏‡πà‡∏° Live */
body.view-mode .control-panel,            /* ‚ùå ‡∏ã‡πà‡∏≠‡∏ô‡πÅ‡∏ú‡∏á‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏° */
body.view-mode h1,                        /* ‚ùå ‡∏ã‡πà‡∏≠‡∏ô‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠ */
body.view-mode #queue-count,
body.view-mode #player-queue,             /* ‚ùå ‡∏ã‡πà‡∏≠‡∏ô‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏Ñ‡∏¥‡∏ß */
body.view-mode .control-sidebar-container h3, 
body.view-mode .control-sidebar-container h4 {
    display: none !important;
}

/* 2. ‚úÖ ‡πÄ‡∏õ‡∏¥‡∏î‡∏Å‡∏•‡πà‡∏≠‡∏á‡πÅ‡∏°‡πà (Parent) ‡πÄ‡∏≠‡∏≤‡πÑ‡∏ß‡πâ‡∏Å‡πà‡∏≠‡∏ô (‡∏´‡πâ‡∏≤‡∏°‡∏ã‡πà‡∏≠‡∏ô‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡∏ô‡∏µ‡πâ ‡πÑ‡∏°‡πà‡∏á‡∏±‡πâ‡∏ô Next Match ‡∏´‡∏≤‡∏¢) */
body.view-mode .bottom-data-section {
    display: flex !important; 
    flex-direction: column; /* ‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡πÅ‡∏ô‡∏ß‡∏ï‡∏±‡πâ‡∏á */
    width: 100%;
}

/* 3. üì¢ ‡∏à‡∏±‡∏î Next Match ‡πÉ‡∏´‡πâ‡πÄ‡∏î‡πà‡∏ô‡πÜ */
body.view-mode .control-sidebar-container {
    order: -1; /* ‡∏¢‡πâ‡∏≤‡∏¢‡∏Ç‡∏∂‡πâ‡∏ô‡∏ö‡∏ô‡∏™‡∏∏‡∏î */
    width: 100%;
    flex: none;
    background: transparent !important; /* ‡πÇ‡∏õ‡∏£‡πà‡∏á‡πÉ‡∏™ */
    box-shadow: none !important;
    border: none !important;
    padding: 0;
}

body.view-mode #next-match-panel {
    display: block !important;
    width: 100%;
    box-sizing: border-box;
}

/* ‡∏õ‡∏£‡∏±‡∏ö Next Match List ‡πÉ‡∏´‡πâ‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡πÅ‡∏ô‡∏ß‡∏ô‡∏≠‡∏ô‡∏™‡∏ß‡∏¢‡πÜ ‡πÉ‡∏ô‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠ */
body.view-mode #next-match-list {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 10px;
}

/* 4. üè∏ ‡∏à‡∏±‡∏î‡∏™‡∏ô‡∏≤‡∏°‡πÉ‡∏´‡πâ‡πÉ‡∏´‡∏ç‡πà‡πÄ‡∏ï‡πá‡∏°‡∏ï‡∏≤ */
body.view-mode #courts-container {
    order: 2; /* ‡∏≠‡∏¢‡∏π‡πà‡∏ï‡πà‡∏≠‡∏à‡∏≤‡∏Å Next Match */
    margin-top: 10px;
}

body.view-mode .courts-area-grid {
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)) !important; 
    gap: 15px;
}

/* ‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏á‡∏Å‡∏≤‡∏£‡πå‡∏î‡∏™‡∏ô‡∏≤‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏ô‡∏î‡∏π */
body.view-mode .court {
    min-height: 250px;
    border-radius: 16px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.08);
    border: none; /* ‡πÄ‡∏≠‡∏≤‡∏Ç‡∏≠‡∏ö‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡∏≠‡∏≠‡∏Å‡πÉ‡∏´‡πâ‡∏î‡∏π‡∏Ñ‡∏•‡∏µ‡∏ô‡πÜ */
}
body.view-mode .court-header {
    background: #2c3e50;
    color: white;
    border-radius: 16px 16px 0 0;
    border: none;
}
/* --- IPAD & RESPONSIVE FIXES --- */

/* 1. ‡∏õ‡∏£‡∏±‡∏ö Layout ‡∏´‡∏•‡∏±‡∏Å‡πÉ‡∏´‡πâ‡πÑ‡∏´‡∏•‡∏•‡∏á‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏à‡∏≠‡πÅ‡∏Ñ‡∏ö */
@media (max-width: 1180px) {
    .bottom-data-section {
        flex-wrap: wrap; /* ‡∏¢‡∏≠‡∏°‡πÉ‡∏´‡πâ‡∏ï‡∏Å‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î */
    }
    
    .control-sidebar-container {
        width: 100% !important; /* ‡πÄ‡∏ï‡πá‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏ß‡πâ‡∏≤‡∏á */
        flex: none !important;
        order: 2; /* ‡∏¢‡πâ‡∏≤‡∏¢‡πÑ‡∏õ‡πÑ‡∏ß‡πâ‡∏•‡πà‡∏≤‡∏á‡∏™‡∏∏‡∏î ‡∏´‡∏£‡∏∑‡∏≠‡∏à‡∏∞‡πÄ‡∏≠‡∏≤‡πÑ‡∏ß‡πâ‡∏ö‡∏ô (order: -1) ‡∏Å‡πá‡πÑ‡∏î‡πâ */
        margin-bottom: 20px;
    }
    
    .stats-column {
        width: 100%;
        flex: none !important;
        order: 1;
    }
}

/* 2. ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏Ñ‡∏¥‡∏ß‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏î‡πâ (Scrollable) ‡πÑ‡∏°‡πà‡∏Å‡∏¥‡∏ô‡∏ó‡∏µ‡πà‡∏à‡∏ô‡∏•‡πâ‡∏ô */
#player-queue {
    max-height: 350px; /* ‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á */
    overflow-y: auto;  /* ‡πÉ‡∏´‡πâ‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÅ‡∏ô‡∏ß‡∏ï‡∏±‡πâ‡∏á‡πÑ‡∏î‡πâ */
    border: 1px solid #eee;
    border-radius: 8px;
    background: rgba(255,255,255,0.5);
}

/* ‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏á Scrollbar ‡πÉ‡∏´‡πâ‡∏™‡∏ß‡∏¢‡∏á‡∏≤‡∏° (Webkit only) */
#player-queue::-webkit-scrollbar {
    width: 6px;
}
#player-queue::-webkit-scrollbar-thumb {
    background-color: #ccc;
    border-radius: 4px;
}

/* 3. ‡∏õ‡∏£‡∏±‡∏ö‡∏Ç‡∏ô‡∏≤‡∏î‡∏õ‡∏∏‡πà‡∏°‡πÉ‡∏ô Sidebar ‡πÉ‡∏´‡πâ‡∏Å‡∏î‡∏á‡πà‡∏≤‡∏¢‡∏Ç‡∏∂‡πâ‡∏ô‡∏ö‡∏ô‡∏ô‡∏¥‡πâ‡∏ß‡∏™‡∏±‡∏°‡∏ú‡∏±‡∏™ */
.control-panel button {
    padding: 10px 15px; /* ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏±‡∏°‡∏ú‡∏±‡∏™ */
    margin-bottom: 5px;
}
</style>  